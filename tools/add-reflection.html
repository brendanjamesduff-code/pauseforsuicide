<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Add Reflection â€” Tool</title>
  <meta name="description" content="Helper tool to format new reflections into JSON format for Pause." />
  <style>
    body {
      font-family: sans-serif;
      max-width: 600px;
      margin: 2rem auto;
      padding: 1rem;
      line-height: 1.6;
    }
    textarea {
      width: 100%;
      height: 120px;
      padding: 0.5rem;
      font-family: inherit;
      font-size: 1rem;
    }
    pre {
      background: #f4f4f4;
      padding: 1rem;
      border-radius: 6px;
      white-space: pre-wrap;
      word-break: break-word;
    }
    button {
      margin-top: 1rem;
      padding: 0.6rem 1.2rem;
      font-size: 1rem;
      background: black;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    button:hover {
      background: #333;
    }
  </style>
</head>
<body>
  <h1>Add Reflection (JSON Tool)</h1>
  <p>Paste the reflection message below. Click "Generate JSON" to format it for <code>reflections.json</code>.</p>

  <textarea id="message" placeholder="Paste message here..."></textarea>
  <button onclick="generateJSON()">Generate JSON</button>

  <h2>Result</h2>
  <pre id="output">(Your JSON will appear here)</pre>

  <script>
    function generateJSON() {
      const message = document.getElementById("message").value.trim();
      if (!message) {
        alert("Please paste a message first.");
        return;
      }

      // Generate a new ID using timestamp to avoid duplicates
      const id = Date.now();

      const data = {
        id: id,
        message: message,
        submitted: new Date().toISOString()
      };

      document.getElementById("output").textContent = JSON.stringify(data, null, 2);
    }
  </script>
</body>
</html>
